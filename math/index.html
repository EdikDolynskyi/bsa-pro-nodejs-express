<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Document</title>
	<script src="/socket.io/socket.io.js"></script>
</head>
<body>
	<h1>Hi Nikita</h1>
	<ul id="iterations"></ul>
	<div id="result" style="color: red"></div>
	<script>
		var socket = io();
		var $$result = document.getElementById('result');
		var $$iterationsContainer = document.getElementById('iterations');

		socket.on("iteration", function (data){
			renderIterationItem(data);
		})

		socket.on("finish", function (data){
			console.log('Finish')
			renderResult(data);
		})

		function renderIterationItem(data){
			var $$iterItem = document.createElement('li');
			$$iterItem.innerText = 'iteration ' + data.iteration + ': ' + data.result;
			$$iterationsContainer.appendChild($$iterItem);
		}

		function renderResult(data){
			$$result.innerText = '\nRESULT: ' + data.result;
		}
	</script>
</body>
</html>